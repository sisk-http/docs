# Работа с SSL

Работа с SSL при разработке может быть необходима в контекстах, требующих безопасности, таких как большинство сценариев веб-разработки. Sisk работает поверх HttpListener, который не поддерживает родной HTTPS, только HTTP. Однако существуют обходные пути, которые позволяют работать с SSL в Sisk. См. их ниже:

## Через IIS на Windows

- Доступно на: Windows
- Уровень сложности: средний

Если вы находитесь на Windows, вы можете использовать IIS для включения SSL на вашем HTTP-сервере. Для этого рекомендуется следовать [этому учебнику](/docs/registering-namespace) заранее, если вы хотите, чтобы ваше приложение слушало хост, отличный от "localhost".

Для этого необходимо установить IIS через функции Windows. IIS доступен бесплатно для пользователей Windows и Windows Server. Чтобы настроить SSL в вашем приложении, необходимо иметь сертификат SSL, даже если он самоподписанный. Далее вы можете увидеть [как настроить SSL на IIS 7 или выше](https://learn.microsoft.com/en-us/iis/manage/configuring-security/how-to-set-up-ssl-on-iis).

## Через mitmproxy

- Доступно на: Linux, macOS, Windows
- Уровень сложности: легкий

**mitmproxy** - это инструмент перехвата прокси, который позволяет разработчикам и тестировщикам безопасности осматривать, изменять и записывать HTTP- и HTTPS-трафик между клиентом (таким как веб-браузер) и сервером. Вы можете использовать утилиту **mitmdump**, чтобы начать обратный SSL-прокси между вашим клиентом и приложением Sisk.

1. Сначала установите [mitmproxy](https://mitmproxy.org/) на вашем компьютере.
2. Запустите ваше приложение Sisk. Для этого примера мы будем использовать порт 8000 в качестве не安全ного HTTP-порта.
3. Запустите сервер mitmproxy, чтобы слушать безопасный порт на 8001:

```sh
mitmdump --mode reverse:http://localhost:8000/ -p 8001
```

И вы готовы! Вы уже можете обращаться к вашему приложению через `https://localhost:8001/`. Вашему приложению не нужно запускаться, чтобы начать `mitmdump`.

## Через пакет Sisk.SslProxy

- Доступно на: Linux, macOS, Windows
- Уровень сложности: легкий

Пакет Sisk.SslProxy - это простой способ включить SSL на вашем приложении Sisk. Однако это **крайне экспериментальный** пакет. Он может быть нестабильным для работы с этим пакетом, но вы можете быть частью небольшого процента людей, которые будут вносить вклад в то, чтобы этот пакет был жизнеспособным и стабильным. Чтобы начать, вы можете установить пакет Sisk.SslProxy с:

```sh
dotnet add package Sisk.SslProxy
```

> [!NOTE]
>
> Вам необходимо включить "Enable pre-release packages" в Visual Studio Package Manger, чтобы установить Sisk.SslProxy.

Опять же, это экспериментальный проект, поэтому даже не думайте о том, чтобы использовать его в производстве.

На данный момент Sisk.SslProxy может обрабатывать большинство функций HTTP/1.1, включая HTTP Continue, Chunked-Encoding, WebSockets и SSE. Читайте больше о SslProxy [здесь](/docs/extensions/ssl-proxy).
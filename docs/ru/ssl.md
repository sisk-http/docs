# Работа с SSL

Работа с SSL при разработке может быть необходима при работе в контекстах, требующих безопасности, таких как большинство сценариев веб-разработки. Sisk работает поверх HttpListener, который не поддерживает native HTTPS, только HTTP. Однако существуют обходные пути, которые позволяют работать с SSL в Sisk. Узнайте о них ниже:

## Через IIS на Windows

- Доступно на: Windows
- Уровень сложности: средний

Если вы работаете на Windows, вы можете использовать IIS для включения SSL на вашем HTTP-сервере. Для того чтобы это работало, рекомендуется следовать [этой инструкции](/docs/registering-namespace) заранее, если вы хотите, чтобы ваше приложение слушало на хосте, отличном от "localhost".

Для этого вам необходимо установить IIS через функции Windows. IIS доступен бесплатно для пользователей Windows и Windows Server. Чтобы настроить SSL в вашем приложении, имейте готов SSL-сертификат, даже если он самоподписанный. Далее вы можете увидеть [как настроить SSL в IIS 7 или выше](https://learn.microsoft.com/en-us/iis/manage/configuring-security/how-to-set-up-ssl-on-iis).

## Через mitmproxy

- Доступно на: Linux, macOS, Windows
- Уровень сложности: простой

**mitmproxy** - это инструмент перехвата прокси, который позволяет разработчикам и тестировщикам безопасности просматривать, изменять и записывать HTTP- и HTTPS-трафик между клиентом (например, веб-браузером) и сервером. Вы можете использовать утилиту **mitmdump**, чтобы запустить обратный SSL-прокси между вашим клиентом и вашим приложением Sisk.

1. Прежде всего, установите [mitmprxy](https://mitmproxy.org/) на вашем компьютере.
2. Запустите ваше приложение Sisk. Для этого примера мы будем использовать порт 8000 в качестве неsecure HTTP порта.
3. Запустите сервер mitmproxy для прослушивания защищенного порта 8001:

```sh
mitmdump --mode reverse:http://localhost:8000/ -p 8001
```

И вы готовы начать! Вы уже можете использовать ваше приложение через `https://localhost:8001/`. Вашему приложению не нужно быть запущенным, чтобы вы могли запустить `mitmdump`.

## Через пакет Sisk.SslProxy

- Доступно на: Linux, macOS, Windows
- Уровень сложности: простой

Пакет Sisk.SslProxy - это простой способ включить SSL в вашем приложении Sisk. Однако это **чрезвычайно экспериментальный** пакет. Работа с этим пакетом может быть нестабильной, но вы можете стать частью небольшого процента людей, которые будут способствовать тому, чтобы этот пакет стал жизнеспособным и стабильным. Чтобы начать, вы можете установить пакет Sisk.SslProxy с помощью:

```sh
dotnet add package Sisk.SslProxy
```

> [!NOTE]

> Вам необходимо включить "Enable pre-release packages" в менеджере пакетов Visual Studio, чтобы установить Sisk.SslProxy.

Еще раз, это экспериментальный проект, поэтому даже не думайте о том, чтобы поместить его в производство.

В настоящее время Sisk.SslProxy может обрабатывать большинство функций HTTP/1.1, включая HTTP Continue, Chunked-Encoding, WebSockets и SSE. Узнайте больше о SslProxy [здесь](/docs/extensions/ssl-proxy).
